package org.rolson.emr.emrcycle1;

import java.util.Timer;
import java.util.TimerTask;

import org.joda.time.DateTime;

import javafx.application.Application;

import javafx.stage.Stage;

public class GUIFX extends Application {
	static Timer timer;
	ClusterCoordinator coordinator = new ClusterCoordinator();
	public void start(Stage stage) {

		
        new GUILayout(coordinator,stage);
        setClientMonitoring();
    }
    public static void main(String[] args) {
        
        Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
            public void run() {
            	endTimer();
                System.out.println("In shutdown hook");
            }
        }, "Shutdown-thread"));
        launch(args);
    }
    public void setClientMonitoring(){
	    TimerTask repeatedTask = new TimerTask() {
	        public void run() {
	            System.out.println("Task performed on " + new DateTime());
	            //coordinator
	            
	        }
	    };
	    timer = new Timer("Timer");
	     
	    long delay  = 1000L;
	    long period = 10000L;
	    timer.scheduleAtFixedRate(repeatedTask, delay, period);
	}
	public static void endTimer()
	{
		timer.cancel();
	}
}
